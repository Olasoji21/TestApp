@page "/categories"
@using JenHairousApp.Shared.Entities


@if (categoryModel == null)
{
    <p><em> Loading...... </em></p>
}
else
{
    <HeroTitle Title="Categories" Description="Manage Categories" />
    <MudTable Hover="true" Elevation="25" Items="categoryList" Filter="new Func<CategoryModel, bool>(Search)" @bind-brand="categoryModel" RowsPerPage="20" FixedHeader="true" Height="470px">
        <ToolBarContent>
            <div class="">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="(() => InvokeModal())">Add Category </MudButton>
            </div>
            <MudSpacer />
            <MudTextField @bind-Value="searchString" Placeholder="Search for Categories" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0 mb-3"></MudTextField>
        </ToolBarContent>
        <HeaderContent>
            <MudTh>Sr. No</MudTh>
            <MudTh>Name</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Sr. No">@context.Id</MudTd>
            <MudTd DataLabel="Name">@context.Name</MudTd>
            <MudTd DataLabel="Actions" Style="text-align:right">
                <MudButton OnClick="@(() => InvokeModal(@context.Id))" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Edit" Color="Color.Info">Edit</MudButton>
                <MudButton OnClick="@(() => Delete(@context.Id))" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Delete" Color="Color.Error">Delete</MudButton>
            </MudTd>
            
        </RowTemplate>
    </MudTable>
}
